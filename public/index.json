[{"authors":["admin"],"categories":null,"content":"I am a PhD student of statistics at the University of Iceland. I\u0026rsquo;m can\u0026rsquo;t be bothered to tell you more about me at the moment so here are some pictures of my dog, Toby. When I finally write something about myself you\u0026rsquo;ll be the first to know! ","date":1554595200,"expirydate":-62135596800,"kind":"term","lang":"en","lastmod":1554595200,"objectID":"2525497d367e79493fd32b198b28f040","permalink":"/authors/admin/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/authors/admin/","section":"authors","summary":"I am a PhD student of statistics at the University of Iceland. I\u0026rsquo;m can\u0026rsquo;t be bothered to tell you more about me at the moment so here are some pictures of my dog, Toby. When I finally write something about myself you\u0026rsquo;ll be the first to know! ","tags":null,"title":"Brynjólfur Gauti Guðrúnar Jónsson","type":"authors"},{"authors":null,"categories":null,"content":"Flexibility This feature can be used for publishing content such as:\n Online courses Project or software documentation Tutorials  The courses folder may be renamed. For example, we can rename it to docs for software/project documentation or tutorials for creating an online course.\nDelete tutorials To remove these pages, delete the courses folder and see below to delete the associated menu link.\nUpdate site menu After renaming or deleting the courses folder, you may wish to update any [[main]] menu links to it by editing your menu configuration at config/_default/menus.toml.\nFor example, if you delete this folder, you can remove the following from your menu configuration:\n[[main]] name = \u0026quot;Courses\u0026quot; url = \u0026quot;courses/\u0026quot; weight = 50  Or, if you are creating a software documentation site, you can rename the courses folder to docs and update the associated Courses menu configuration to:\n[[main]] name = \u0026quot;Docs\u0026quot; url = \u0026quot;docs/\u0026quot; weight = 50  Update the docs menu If you use the docs layout, note that the name of the menu in the front matter should be in the form [menu.X] where X is the folder name. Hence, if you rename the courses/example/ folder, you should also rename the menu definitions in the front matter of files within courses/example/ from [menu.example] to [menu.\u0026lt;NewFolderName\u0026gt;].\n","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"59c3ce8e202293146a8a934d37a4070b","permalink":"/courses/example/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/courses/example/","section":"courses","summary":"Learn how to use Academic's docs layout for publishing online courses, software documentation, and tutorials.","tags":null,"title":"Overview","type":"docs"},{"authors":null,"categories":null,"content":"Preface  The Book These lecture notes are based on the book Modelling Survival Data in Medical Research by David Collett\n\nSoftware We will primarily be writing R code using the RStudio GUI.\nSetup in RStudio This is our base setup. Further packages will be loaded in the individual lectures respectively.\nlibrary(tidyverse); library(kableExtra); library(cowplot); library(scales); library(janitor); theme_set(theme_cowplot() + background_grid(major = \u0026quot;xy\u0026quot;, minor = \u0026quot;xy\u0026quot;, size.major = 0.25, size.minor = 0.1) + theme(legend.position = \u0026quot;top\u0026quot;, plot.margin = margin(10, 10, 10, 10)))  ","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"b2514d97758c980f78552c1f5551bcd0","permalink":"/courses/survival/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/courses/survival/","section":"courses","summary":"Course notes in SurvivaL Analysis","tags":null,"title":"Survival Analysis","type":"docs"},{"authors":null,"categories":null,"content":"In this tutorial, I\u0026rsquo;ll share my top 10 tips for getting started with Academic:\nTip 1 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.\nNullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.\nCras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.\nSuspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.\nAliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.\nTip 2 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.\nNullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.\nCras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.\nSuspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.\nAliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.\n","date":1557010800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1557010800,"objectID":"74533bae41439377bd30f645c4677a27","permalink":"/courses/example/example1/","publishdate":"2019-05-05T00:00:00+01:00","relpermalink":"/courses/example/example1/","section":"courses","summary":"In this tutorial, I\u0026rsquo;ll share my top 10 tips for getting started with Academic:\nTip 1 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim.","tags":null,"title":"Example Page 1","type":"docs"},{"authors":null,"categories":null,"content":"Here are some more tips for getting started with Academic:\nTip 3 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.\nNullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.\nCras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.\nSuspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.\nAliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.\nTip 4 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.\nNullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.\nCras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.\nSuspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.\nAliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.\n","date":1557010800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1557010800,"objectID":"1c2b5a11257c768c90d5050637d77d6a","permalink":"/courses/example/example2/","publishdate":"2019-05-05T00:00:00+01:00","relpermalink":"/courses/example/example2/","section":"courses","summary":"Here are some more tips for getting started with Academic:\nTip 3 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus.","tags":null,"title":"Example Page 2","type":"docs"},{"authors":null,"categories":["R"],"content":" I\u0026rsquo;ve seen this kind of plot poking around, but I didn\u0026rsquo;t really think about them until the other day I was asked about how to make them. Here I will walk through making one of these plots using the ggplot2 and cowplot packages.\nTo start with I have some fake data, d.\nd |\u0026gt; kable(format = \u0026quot;html\u0026quot;) |\u0026gt; kable_styling(full_width = F)    name  mean  lower  upper      Covfefe  1.1989430  1.0707825  1.358700    Coffee  1.8509518  1.5589701  2.227752    Variable  1.2181512  1.0834045  1.411683    Covariate  1.1970336  1.0699671  1.342737    Predictor  0.9085823  0.8049225  1.000000    Smoking  0.8770238  0.7447709  1.000000    Age  0.9344551  0.8305984  1.000000    Uranium  0.9177338  0.8021060  1.000000    Stuff  1.0760010  1.0000000  1.216474    Thing  0.9143605  0.7753231  1.000000    Koffing  1.0686924  1.0000000  1.178642    Coughing  1.0648236  1.0000000  1.194998    Polvo  0.9227277  0.8097846  1.000000     The Forest Plot The forest plot is not hard to do.\np1 \u0026lt;- d |\u0026gt; mutate(name = fct_reorder(name, mean)) |\u0026gt; ggplot(aes(x = name, y = mean, ymin = lower, ymax = upper)) + geom_vline(aes(xintercept = name), col = \u0026quot;grey95\u0026quot;, size = 5) + geom_hline(yintercept = 1, lty = 2) + geom_point() + geom_linerange() + coord_flip() + labs(x = NULL, y = NULL) + theme(plot.margin = margin(t = 5, r = -4, b = 5, l = 5)) p1  The Table To make the table look nice I convert the numbers to text and clean them up so that the text is justified nicely when plotting it\np2 \u0026lt;- d |\u0026gt; mutate(name = fct_reorder(name, mean), mean = round(mean, 2), mean = str_pad(mean, width = 4, side = \u0026quot;right\u0026quot;, pad = \u0026quot;0\u0026quot;), lower = round(lower, 2), lower = as.character(lower), lower = ifelse(lower == \u0026quot;1\u0026quot;, \u0026quot;1.00\u0026quot;, lower), lower = str_pad(lower, width = 4, side = \u0026quot;right\u0026quot;, pad = \u0026quot;0\u0026quot;), upper = round(upper, 2), upper = as.character(upper), upper = ifelse(upper == \u0026quot;1\u0026quot;, \u0026quot;1.00\u0026quot;, upper), upper = str_pad(upper, width = 4, side = \u0026quot;right\u0026quot;, pad = \u0026quot;0\u0026quot;), ci = str_c(lower, \u0026quot;, \u0026quot;, upper)) |\u0026gt; ggplot(aes(x = name)) + geom_vline(aes(xintercept = name), col = \u0026quot;grey95\u0026quot;, size = 5) + geom_text(aes(label = mean, y = 1)) + geom_text(aes(label = ci, y = 1.07)) + coord_flip(ylim = c(0.99, 1.1)) + theme(axis.title = element_blank(), axis.text = element_blank(), axis.ticks = element_blank(), axis.line.y = element_blank(), panel.border = element_blank(), panel.grid = element_blank(), plot.background = element_blank(), plot.margin = margin(t = 5, r = 5, b = 19.3, l = 0)) p2  The finished bottom row Now we have nicely alligned the plot and table.\nbottom_row \u0026lt;- plot_grid(p1, p2, nrow = 1, rel_widths = c(1, 0.3)) bottom_row  The headers I admit that this is a pretty handwavy manual way to make the header fit, and there is probably a nice way to automatically fit this using the coordinate system.\ntop_row \u0026lt;- ggplot(data = tibble()) + geom_text(aes(y = 1, x = 0.02, label = \u0026quot;Variable\u0026quot;), size = 5) + geom_text(aes(y = 1, x = 0.84, label = \u0026quot;Mean\u0026quot;), size = 5) + geom_text(aes(y = 1, x = 0.98, label = \u0026quot;95% CI\u0026quot;), size = 5) + coord_cartesian(xlim = c(0, 1)) + theme_void() + theme(plot.margin = margin(t = 0, r = 5, b = 0, l = 5), axis.line.x.bottom = element_line()) top_row  Putting it all together And so we come to the finished plot. If we wrangle the rel_heights setting a little bit we can get a pretty nice looking forest plot and table hybrid.\nplot_grid(top_row, bottom_row, ncol = 1, rel_heights = c(0.07, 1))  This was actually less of an inconvenience than I thought. The mixture of ggplot2 and cowplot made this a pretty easy task.\n","date":1644364800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1644364800,"objectID":"c8487161af9f4d8a5ea32d7c44c1f086","permalink":"/post/2022-02-09-forest-plots-with-built-in-tables/","publishdate":"2022-02-09T00:00:00Z","relpermalink":"/post/2022-02-09-forest-plots-with-built-in-tables/","section":"post","summary":"I\u0026rsquo;ve seen this kind of plot poking around, but I didn\u0026rsquo;t really think about them until the other day I was asked about how to make them. Here I will walk through making one of these plots using the ggplot2 and cowplot packages.\nTo start with I have some fake data, d.\nd |\u0026gt; kable(format = \u0026quot;html\u0026quot;) |\u0026gt; kable_styling(full_width = F)    name  mean  lower  upper      Covfefe  1.","tags":["rstudio","ggplot","tables"],"title":"Forest Plots with Built-In Tables","type":"post"},{"authors":["Brynjólfur Gauti Guðrúnar Jónsson"],"categories":null,"content":" Click the Slides button above to demo Academic\u0026rsquo;s Markdown slides feature.   Supplementary notes can be added here, including code and math.\n","date":1554595200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1554595200,"objectID":"557dc08fd4b672a0c08e0a8cf0c9ff7d","permalink":"/publication/preprint/","publishdate":"2017-01-01T00:00:00Z","relpermalink":"/publication/preprint/","section":"publication","summary":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum.","tags":["Source Themes"],"title":"An example preprint / working paper","type":"publication"},{"authors":[],"categories":[],"content":"Create slides in Markdown with Academic  Academic | Documentation\n Features  Efficiently write slides in Markdown 3-in-1: Create, Present, and Publish your slides Supports speaker notes Mobile friendly slides   Controls  Next: Right Arrow or Space Previous: Left Arrow Start: Home Finish: End Overview: Esc Speaker notes: S Fullscreen: F Zoom: Alt + Click  PDF Export: E   Code Highlighting Inline code: variable\nCode block:\nporridge = \u0026quot;blueberry\u0026quot; if porridge == \u0026quot;blueberry\u0026quot;: print(\u0026quot;Eating...\u0026quot;)   Math In-line math: $x + y = z$\nBlock math:\n$$ f\\left( x \\right) = ;\\frac{{2\\left( {x + 4} \\right)\\left( {x - 4} \\right)}}{{\\left( {x + 4} \\right)\\left( {x + 1} \\right)}} $$\n Fragments Make content appear incrementally\n{{% fragment %}} One {{% /fragment %}} {{% fragment %}} **Two** {{% /fragment %}} {{% fragment %}} Three {{% /fragment %}}  Press Space to play!\nOne  **Two**  Three   A fragment can accept two optional parameters:\n class: use a custom style (requires definition in custom CSS) weight: sets the order in which a fragment appears   Speaker Notes Add speaker notes to your presentation\n{{% speaker_note %}} - Only the speaker can read these notes - Press `S` key to view {{% /speaker_note %}}  Press the S key to view the speaker notes!\n Only the speaker can read these notes Press S key to view    Themes  black: Black background, white text, blue links (default) white: White background, black text, blue links league: Gray background, white text, blue links beige: Beige background, dark text, brown links sky: Blue background, thin dark text, blue links    night: Black background, thick white text, orange links serif: Cappuccino background, gray text, brown links simple: White background, black text, blue links solarized: Cream-colored background, dark green text, blue links   Custom Slide Customize the slide style and background\n{{\u0026lt; slide background-image=\u0026quot;/img/boards.jpg\u0026quot; \u0026gt;}} {{\u0026lt; slide background-color=\u0026quot;#0000FF\u0026quot; \u0026gt;}} {{\u0026lt; slide class=\u0026quot;my-style\u0026quot; \u0026gt;}}   Custom CSS Example Let\u0026rsquo;s make headers navy colored.\nCreate assets/css/reveal_custom.css with:\n.reveal section h1, .reveal section h2, .reveal section h3 { color: navy; }   Questions?  Ask\n Documentation\n","date":1549324800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1549324800,"objectID":"0e6de1a61aa83269ff13324f3167c1a9","permalink":"/slides/example/","publishdate":"2019-02-05T00:00:00Z","relpermalink":"/slides/example/","section":"slides","summary":"An introduction to using Academic's Slides feature.","tags":[],"title":"Slides","type":"slides"},{"authors":null,"categories":null,"content":"Some Probability Distributions Discrete Bernoulli A random variable \\(X\\) is said to have the Bernoulli distribution with parameter \\(p\\) if\n$$ \\begin{aligned} P(X=1) \u0026amp;= p, \\quad \\text{and} \\\\ P(X=0) \u0026amp;= 1 - p, \\quad \\text{where } 0 \u0026lt; p \u0026lt; 1. \\end{aligned} $$\nWe write this as \\(X \\sim \\mathrm{Bern}(p)\\). All random variables whose possible values are \\(0\\) and \\(1\\) follow this distribution.\np \u0026lt;- 0.3 success \u0026lt;- p failure \u0026lt;- 1 - p tibble(outcome = c(\u0026quot;Success\u0026quot;, \u0026quot;Failure\u0026quot;), probability = c(success, failure)) %\u0026gt;% ggplot(aes(outcome, probability)) + geom_col() + scale_y_continuous(labels = percent) + labs(title = \u0026quot;Example Bernoulli variable\u0026quot;) + theme(axis.title = element_blank())  Binomial Suppose that we have n independent Bernoulli random variables sampled from an experiment, each with the same probability, \\(p\\), of success. Let \\(X\\) be the number of successes. Then \\(X\\) has a Binomial distribution with parameters \\(n\\) and \\(p\\). We write \\(X \\sim \\mathrm{Bin}(n, p)\\). Thus the \\(\\mathrm{Bern}(p)\\) distribution is the same as \\(\\mathrm{Bin}(1, p)\\).\ncoin_tosses \u0026lt;- 100 possible_outcomes \u0026lt;- seq(0, 100) probability_of_outcomes \u0026lt;- dbinom(x = possible_outcomes, size = coin_tosses, prob = 0.5) tibble(outcome = possible_outcomes, probability = probability_of_outcomes) %\u0026gt;% ggplot(aes(outcome, probability)) + geom_col() + scale_y_continuous(labels = percent) + labs(title = \u0026quot;Coin toss experiment\u0026quot;, subtitle = \u0026quot;Probability of obtaining X heads in 100 tosses\u0026quot;) + theme(axis.title = element_blank())  Geometric Consider a sequence of independent Bernoulli trials, each with the same success probability, \\(p\\), and imagine performing trials until a success occurs. Let \\(X\\) be the number of failures before the first successful trial. Then \\(X\\) has the Geometric distribution with parameter \\(p\\), denoted by \\(X \\sim \\mathrm{Geom}(p)\\).\nThis is an important distribution for survival analysis. Imagine that on each day there is a constant probability, \\(p\\), that some event happens. Then the number of days before the event happens follows a \\(\\mathrm{Geom}(p)\\) distribution. Note that the Geometric distribution only models whole numbers, so we cannot wait for \\(4.5\\) days when working with this distribution.\nTextbooks and statistical software differ in whether the Geometric distribution models the number trials before the success or the number of trials including the success. The number of trials including the success is sometimes called the First Success distribution.\nrisk \u0026lt;- 0.10 possible_times \u0026lt;- seq(0, 50) probability_of_times \u0026lt;- dgeom(possible_times, risk) tibble(time = possible_times, probability = probability_of_times) %\u0026gt;% ggplot(aes(time, probability)) + geom_col() + scale_y_continuous(labels = percent) + labs(title = \u0026quot;Geometic experiment\u0026quot;, subtitle = \u0026quot;Probability of waiting X days until event happens with risk 10%\u0026quot;) + theme(axis.title = element_blank())  Continuous For continuous variables it makes no sense to ask what is the probability that X will be equal to x? since that probability, \\(P(X = x)\\) is always \\(0\\). Consider the probability that the temperature outside is 23 degrees celsius. This probability is \\(0\\) since the temperature outside is never exactly 23 degrees, rather it might be 23.01231 or 22.999923, but it is never exactly 23. Instead of the probability that a continuous random variable equals some value we talk of the density of the distribution at that value.\nOn the other hand we can talk about the probability that a continuous random variable, \\(X\\), is less than or equal to \\(x\\) or \\(P(X \\leq x)\\). Thus we can ask what is the probability that the temporature outside is less than or equall to 23? or \\(P(\\mathrm{Temp} \\leq 23)\\).\nExponential The Exponential distribution is the continuous counterpart to the Geometric distribution. Instead of waiting for events in discrete days we are now waiting in continuous time for a success that occurs with rate \\(\\lambda\\) per unit of time. The average number of successes in a time interval of length \\(t\\) is \\(\\lambda t\\), though the actual number of successes varies.\nIf \\(X\\) has an Exponential distribution we write \\(X \\sim \\mathrm{Expo}(\\lambda)\\), and the probability that an event occurs within \\(x\\) units of time is equal to the probability that \\(X\\) is less than or equal to \\(x\\), or\n$$ P(X \\leq x) =F(x) = 1 - e^{-\\lambda x}. $$\nIn survival analysis this is often called the risk function. The survivor function is the probability that an event has not occurred within \\(x\\) units of time, and for an Exponential random variable it is written\n$$ P(X \u0026gt; x) = S(x) = 1 - (1 - e^{-\\lambda x}) = e^{-\\lambda x}. $$\nThe Exponential distribution is unique in that it is memoryless. This means that the time until an event occurs is independent of how long you have been waiting for it to happen. It is obvious that the time until your bus arrives is not exponentially distributed since the waiting time is not the same whether you have waited \\(0\\), \\(5\\) or \\(15\\) minutes (although sometimes it may feel that way!). Waiting times that are not memoryless are better modeled with other distributions.\nrate \u0026lt;- 0.1 possible_times \u0026lt;- seq(0, 50) density_of_times \u0026lt;- dexp(possible_times, rate) tibble(time = possible_times, density = density_of_times) %\u0026gt;% ggplot(aes(time, density)) + geom_area(fill = \u0026quot;grey30\u0026quot;) + labs(title = \u0026quot;Exponential experiment: Density\u0026quot;, subtitle = \u0026quot;Density of waiting X amount of time until event happens with rate 0.1 per unit of time.\\nSince an exponential waiting time can take on any values we don't see a step function but a smooth curve.\u0026quot;) + theme(axis.title = element_blank())  rate \u0026lt;- 0.1 possible_times \u0026lt;- seq(0, 50) risk_function \u0026lt;- pexp(possible_times, rate) tibble(time = possible_times, risk = risk_function) %\u0026gt;% ggplot(aes(time, risk)) + geom_area(fill = \u0026quot;grey30\u0026quot;) + scale_y_continuous(labels = percent) + labs(title = \u0026quot;Exponential experiment: Risk function\u0026quot;, subtitle = \u0026quot;Probability of waiting X OR LESS amount of time until event happens with rate 0.1 per unit of time.\u0026quot;) + theme(axis.title = element_blank())  rate \u0026lt;- 0.1 possible_times \u0026lt;- seq(0, 50) survival_function \u0026lt;- 1 - pexp(possible_times, rate) tibble(time = possible_times, survival = survival_function) %\u0026gt;% ggplot(aes(time, survival)) + geom_area(fill = \u0026quot;grey30\u0026quot;) + scale_y_continuous(labels = percent) + labs(title = \u0026quot;Exponential experiment: Survival function\u0026quot;, subtitle = \u0026quot;Probability of waiting MORE THAN X amount of time until event happens with rate 0.1 per unit of time.\u0026quot;) + theme(axis.title = element_blank())  Weibull Remarkably, simply raising an exponential random variable to a power dramatically improves the flexibility and applicability of the distribution. Let \\(X \\sim \\mathrm{Expo}(\\lambda)\\) and \\(T = X^{1/\\gamma}\\) with \\(\\lambda \u0026gt; 0\\), \\(\\gamma \u0026gt; 0\\).\nThe distribution of \\(T\\) is called the Weibull distribution and we denote this by \\(T \\sim \\mathrm{Weib}(\\lambda, \\gamma)\\). We see that if \\(\\gamma = 1\\) then \\(T\\sim \\mathrm{Weib}(\\lambda, 1) = \\mathrm{Expo}(\\lambda)\\).\nIt is interesting to note that if \\(T = X^{1/\\gamma}\\) then \\(X = T^{\\gamma}\\). Thus, if you have a random variable \\(T\\sim \\mathrm{Weib}(\\lambda, \\gamma)\\), then \\(T^\\gamma \\sim \\mathrm{Expo}(\\lambda)\\), and so \\(T^\\gamma\\) is memoryless, which can be used to examine whether \\(T\\) is actually Weibull distributed.\nThe risk function for a Weibull random variable is\n$$ P(T \\leq t) = F(t) = 1 - e^{\\lambda t^{\\gamma}} $$\nand the survivor function is\n$$ P(T \u0026gt; t) = S(t) = e^{\\lambda t^\\gamma}. $$\nThe Weibull distribution is not memoryless.\nrate \u0026lt;- 0.1 shape \u0026lt;- 2 possible_times \u0026lt;- seq(0, 50, length.out = 1000) density_of_times \u0026lt;- dweibull(possible_times, shape = shape, scale = 1 / rate) tibble(time = possible_times, density = density_of_times) %\u0026gt;% ggplot(aes(time, density)) + geom_area(fill = \u0026quot;grey30\u0026quot;) + labs(title = \u0026quot;Weibull experiment: Density\u0026quot;, subtitle = \u0026quot;Density of waiting X amount of time until event happens with rate 0.1 per unit of time and shape parameter 2.\\nThis means that the square root of the survival time follows an exponential distribution\u0026quot;) + theme(axis.title = element_blank())  rate \u0026lt;- 0.1 shape \u0026lt;- 2 possible_times \u0026lt;- seq(0, 50, length.out = 1000) density_of_times \u0026lt;- pweibull(possible_times, shape = shape, scale = 1 / rate) tibble(time = possible_times, density = density_of_times) %\u0026gt;% ggplot(aes(time, density)) + geom_area(fill = \u0026quot;grey30\u0026quot;) + scale_y_continuous(labels = percent) + labs(title = \u0026quot;Weibull experiment: Risk function\u0026quot;, subtitle = \u0026quot;Probability of waiting X OR LESS amount of time until event happens with rate 0.1 per unit of time and shape parameter 2.\\nThis means that the square root of the survival time follows an exponential distribution\u0026quot;) + theme(axis.title = element_blank())  rate \u0026lt;- 0.1 shape \u0026lt;- 2 possible_times \u0026lt;- seq(0, 50, length.out = 1000) density_of_times \u0026lt;- 1 - pweibull(possible_times, shape = shape, scale = 1 / rate) tibble(time = possible_times, density = density_of_times) %\u0026gt;% ggplot(aes(time, density)) + geom_area(fill = \u0026quot;grey30\u0026quot;) + scale_y_continuous(labels = percent) + labs(title = \u0026quot;Weibull experiment: Survivor function\u0026quot;, subtitle = \u0026quot;Probability of waiting MORE THAN X amount of time until event happens with rate 0.1 per unit of time and shape parameter 2.\\nThis means that the square root of the survival time follows an exponential distribution\u0026quot;) + theme(axis.title = element_blank())  ","date":1536451200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1536451200,"objectID":"c0660db0f2ee73750de8c4f01bf8808d","permalink":"/courses/survival/probabilitydistributions/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/courses/survival/probabilitydistributions/","section":"courses","summary":"Course notes in SurvivaL Analysis","tags":null,"title":"Survival Analysis","type":"docs"},{"authors":null,"categories":null,"content":"\u0026hellip;\n","date":1530140400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1530140400,"objectID":"18d05a63a1c8d7ed973cc51838494e41","permalink":"/privacy/","publishdate":"2018-06-28T00:00:00+01:00","relpermalink":"/privacy/","section":"","summary":"\u0026hellip;","tags":null,"title":"Privacy Policy","type":"page"},{"authors":null,"categories":null,"content":"\u0026hellip;\n","date":1530140400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1530140400,"objectID":"9b10c1f64082d3869fd4cb1f85809430","permalink":"/terms/","publishdate":"2018-06-28T00:00:00+01:00","relpermalink":"/terms/","section":"","summary":"\u0026hellip;","tags":null,"title":"Terms","type":"page"},{"authors":null,"categories":null,"content":"","date":1461715200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1461715200,"objectID":"96e90e91bf07134bf7a1a7c0c43ea596","permalink":"/project/ah%C3%A6ttureiknir/","publishdate":"2016-04-27T00:00:00Z","relpermalink":"/project/ah%C3%A6ttureiknir/","section":"project","summary":"Personalised risk calculator for patients’ short-term re-admittance to psychiatric wards I developed with Þórarinn Jónmundsson.","tags":["Demo"],"title":"Personalized Risk Calculator","type":"project"},{"authors":["Brynjólfur Gauti Guðrúnar Jónsson","Robert Ford"],"categories":null,"content":" Click the Cite button above to demo the feature to enable visitors to import publication metadata into their reference management software.    Click the Slides button above to demo Academic\u0026rsquo;s Markdown slides feature.   Supplementary notes can be added here, including code and math.\n","date":1441065600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1441065600,"objectID":"966884cc0d8ac9e31fab966c4534e973","permalink":"/publication/journal-article/","publishdate":"2017-01-01T00:00:00Z","relpermalink":"/publication/journal-article/","section":"publication","summary":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum.","tags":["Source Themes"],"title":"An example journal article","type":"publication"},{"authors":["Brynjólfur Gauti Guðrúnar Jónsson","Robert Ford"],"categories":null,"content":" Click the Cite button above to demo the feature to enable visitors to import publication metadata into their reference management software.    Click the Slides button above to demo Academic\u0026rsquo;s Markdown slides feature.   Supplementary notes can be added here, including code and math.\n","date":1372636800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1372636800,"objectID":"69425fb10d4db090cfbd46854715582c","permalink":"/publication/conference-paper/","publishdate":"2017-01-01T00:00:00Z","relpermalink":"/publication/conference-paper/","section":"publication","summary":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum.","tags":["Source Themes"],"title":"An example conference paper","type":"publication"},{"authors":null,"categories":null,"content":"","date":-62135596800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":-62135596800,"objectID":"ef34981fbb646d49e8bbe16fddefec13","permalink":"/project/survival-analysis/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/project/survival-analysis/","section":"project","summary":"Currently putting together lecture notes for a course on Survival Analysis at the University of Iceland I teach along side Thor Aspelund.","tags":["Demo"],"title":"Survival Analysis (LÝÐ079F)","type":"project"}]